<html>
    <head>
        <title>IMMUNE DB data visualization Examples.</title>
        <script src="lib/jquery.min.js"></script> 
        <script src="lib/highcharts/highcharts.js"></script> 
        <script src="lib/highcharts/highcharts-3d.js"></script> 
        <script src="lib/highcharts/modules/data.js"></script> 
        <script src="lib/highcharts/modules/exporting.js"></script> 
        <script src="lib/highcharts/modules/drilldown.js"></script> 
    </head>
    <body>
        <article class="repertoire" >
            <h1>Stats API data</h1>
            <button class="loader" x-target="usage_20200922_top_10_clone_count_data" x-data="https://raw.githubusercontent.com/marcoamarooliveira/sampledata/master/20200922_stats_api/response_fraction_10.json">Load top 10 clone count</button>
            <div id="usage_20200922_top_10_clone_count_data" class="iRVis" style="min-width: 310px; height: 400px; margin: 0 auto">Show sample data from 20200922 Top 10</div>
            
            <button class="loader" x-target="usage_20200922_top_100_clone_count_data" x-data="https://raw.githubusercontent.com/marcoamarooliveira/sampledata/master/20200922_stats_api/response_fraction_100.json">Load top 100 clone count</button>            
            <div id="usage_20200922_top_100_clone_count_data" class="iRVis" style="min-width: 310px; height: 400px; margin: 0 auto">Show sample data from 20200922 Top 100</div>

            <button class="loader" x-target="usage_20200922_top_1000_clone_count_data" x-data="https://raw.githubusercontent.com/marcoamarooliveira/sampledata/master/20200922_stats_api/response_fraction_1000.json">Load top 1000 clone count</button>
            <div id="usage_20200922_top_1000_clone_count_data" class="iRVis" style="min-width: 310px; height: 400px; margin: 0 auto">Show sample data from 20200922 Top 1000</div>
        </article>

        <article class="repertoire" >
            <h1>Stats API data</h1>
            <button class="loaderTopCount" x-target="usage_20210118_top_count_data" x-data="https://raw.githubusercontent.com/marcoamarooliveira/sampledata/master/20210118_stats_api/top_copies_working_sample.json">Load top clone count</button>
            <button class="loaderTopCountPercentage" x-target="usage_20210118_top_count_data" x-data="https://raw.githubusercontent.com/marcoamarooliveira/sampledata/master/20210118_stats_api/top_copies_working_sample.json">Load top clone count Percentage</button>
            <div id="usage_20210118_top_count_data" class="iRVis" style="min-width: 310px; height: 400px; margin: 0 auto">Show sample data from 20210118 Top clone count</div>
       </article>

        <article class="repertoire" >
            <h1>Stats API data</h1>
            <button class="loaderFunctionalityCount" x-target="usage_20210118_functionality_count_data" x-data="https://raw.githubusercontent.com/marcoamarooliveira/sampledata/master/20210118_stats_api/functionality.json">Load functionality count</button>
            <button class="loaderFunctionalityCountPercentage" x-target="usage_20210118_functionality_count_data" x-data="https://raw.githubusercontent.com/marcoamarooliveira/sampledata/master/20210118_stats_api/functionality.json">Load functionality count Percentage</button>
            <div id="usage_20210118_functionality_count_data" class="iRVis" style="min-width: 310px; height: 400px; margin: 0 auto">Show sample data from 20210118 functionality count</div>
       </article>

        <script src="lib/jquery.min.js"></script> 
        <script  src="dist/airrvisualization.js"></script>   

        <script>
            function redrawChart(url, identifier){
                $.get(url, function(data){
                    window.airrvisualization.setDebugLevel(40);
                    let chart = window.airrvisualization.createChart(window.airrvisualization.createProperties().setId(identifier).setXLabel("Category").setData(data).setDataType("CloneCountImmuneDB")).plot();
                });
            }
            function redrawTopCountChart(url, identifier){
                $.get(url, function(data){
                    let chart = window.airrvisualization.createChart(window.airrvisualization.createProperties().setId(identifier).setXLabel("Category").setData(data).setDataType("CloneTopCountImmuneDB")).plot();
                });
            }
            function redrawTopCountChartPercentage(url, identifier){
                $.get(url, function(data){
                    let chart = window.airrvisualization.createChart(window.airrvisualization.createProperties().setId(identifier).setXLabel("Category").setData(data).setPercentage(true).setDataType("CloneTopCountImmuneDB")).plot();
                });
            }
            function redrawFunctionalityCountChart(url, identifier){
                $.get(url, function(data){
                    let chart = window.airrvisualization.createChart(window.airrvisualization.createProperties().setId(identifier).setXLabel("Category").setData(data).setDataType("CloneFunctionalityCountImmuneDB")).plot();
                });
            }
            function redrawFunctionalityCountChartPercentage(url, identifier){
                $.get(url, function(data){
                    let chart = window.airrvisualization.createChart(window.airrvisualization.createProperties().setId(identifier).setXLabel("Category").setData(data).setPercentage(true).setDataType("CloneFunctionalityCountImmuneDB")).plot();
                });
            }
            $(function () {
                $('.loader').click(function(){
                    redrawChart($(this).attr('x-data'), $(this).attr('x-target'));
                });
                $('.loaderTopCount').click(function(){
                    redrawTopCountChart($(this).attr('x-data'), $(this).attr('x-target'));
                });
                $('.loaderTopCountPercentage').click(function(){
                    redrawTopCountChartPercentage($(this).attr('x-data'), $(this).attr('x-target'));
                });
                $('.loaderFunctionalityCount').click(function(){
                    redrawFunctionalityCountChart($(this).attr('x-data'), $(this).attr('x-target'));
                });
                $('.loaderFunctionalityCountPercentage').click(function(){
                    redrawFunctionalityCountChartPercentage($(this).attr('x-data'), $(this).attr('x-target'));
                });
            });
        </script>
    </body>
</html>